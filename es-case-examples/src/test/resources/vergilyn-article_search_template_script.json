{
  "from":"{{from}}{{^from}}0{{/from}}",
  "size":"{{size}}{{^size}}3{{/size}}",
  "timeout":"{{timeout}}{{^timeout}}5m{{/timeout}}",
  "version":true,
  "_source":{
    "excludes":["summary","content"]},
    "sort":[
      {"_score":{"order":"desc"}},
      {"publish_time":{"order":"desc"}}
    ],
  "query":{
    "function_score":{
      "score_mode":"sum",
      "boost_mode":"avg",
      "boost":1,
      "query":{
        "bool":{
          "minimum_should_match":0,
          "boost":1,
          "must":[
            {
              "multi_match":{
                "query":"{{query_string}}",
                "fields":{{#toJson}}multi_match_fields{{/toJson}},
                "type":"best_fields",
                "operator":"OR",
                "slop":0,
                "prefix_length":0,
                "max_expansions":10,
                "tie_breaker":0.4,
                "zero_terms_query":"NONE",
                "auto_generate_synonyms_phrase_query":true,
                "fuzzy_transpositions":true,
                "boost":1
              }
            }
          ],
          "should":[
            {"prefix":{"list_title.keyword":{"value":"{{query_string}}","boost":2}}},
            {"match_phrase_prefix":{"list_title":{"query":"{{query_string}}","boost":1}}}
          ],
          "filter":[
            {"range":{
              "publish_time":{
                {{#range_publish_time_gte}}"gte":"{{range_publish_time_gte}}"{{/range_publish_time_gte}}
                {{#range_publish_time_lte}},"lte":"{{range_publish_time_lte}}"{{/range_publish_time_lte}}
              }
            }}

            {{#status}}
              ,{"terms":{"status":{{#toJson}}status{{/toJson}}}}
            {{/status}}

            {{#tags}}
              ,{"terms":{"tags":{{#toJson}}tags{{/toJson}}}}
            {{/tags}}
          ]
        }
      },
      "functions":[
        {"gauss":{"publish_time":{"scale":"7d","offset":"3d","decay":0.5}}}
      ]
    }
  }
}